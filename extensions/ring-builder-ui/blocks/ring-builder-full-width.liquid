{% schema %}
{
  "name": "Ring Builder (Full width)",
  "target": "section",
  "settings": [
    { "type": "text", "id": "src", "label": "App URL", "default": "/apps/ring-builder/grid?theme=1" },
    { "type": "range", "id": "height", "label": "Iframe height (px)", "min": 600, "max": 4000, "step": 50, "default": 1700 },
    { "type": "checkbox", "id": "no_margins", "label": "Remove theme side margins", "default": true }
  ]
}
{% endschema %}

<div id="rb-{{ block.id }}" class="rb-wrap{% if block.settings.no_margins %} rb--no-margins{% endif %}">
  <iframe
    src="{{ block.settings.src }}"
    title="Ring Builder"
    loading="lazy"
    style="width:100%;height:{{ block.settings.height }}px;border:0;display:block;">
  </iframe>
</div>

<style>
#rb-{{ block.id }} { width:100vw; margin-left:calc(50% - 50vw); }
{% if block.settings.no_margins %}
#rb-{{ block.id }} :where(.page-width, .container, .content-container){
  max-width:none !important;
  padding-left:0 !important;
  padding-right:0 !important;
}
{% endif %}
</style>
